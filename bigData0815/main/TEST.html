<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script type="text/javascript" src="js/jquery-1.8.0.min.js"></script>
    <script type="text/javascript" src="js/common.js"></script>

    <title>TEST</title>
</head>
<body>
    <p>测试使用</p>
    <script>

                $.ajax({
                //站点数据
                // url: ServerURL + "/ServiceHandler/BigDataHandler.ashx?method=getfacilitiesinfobyprojectid&projectid="+CurrentProjectID+"&token="+defaultToken,
                // type: "GET",
                // dataType: "json",

                // 事件数据
                type: "post",
				url: ServerURL + "/ServiceHandler/BigDataHandler.ashx",
				async: true,
				// data:dataObj,
				dataType: "json",
    success: function(joResult) {
        if(joResult.success == true) {
            console.log(joResult)
            var tmpObjs = joResult.data;
            // 将数据转换为JSON字符串
            const data = JSON.stringify(joResult.data);
            // 创建blob对象
            const blob = new Blob([data], { type: 'application/json' });
            // 获取blob对象URL
            const url = URL.createObjectURL(blob);
            // 创建a标签
            const link = document.createElement('a');
            // 设置a标签href属性为blob URL
            link.href = url;
            // 设置下载文件的名称
            link.download = 'data_event.json';
            // 将a标签添加到DOM中
            document.body.appendChild(link);
            // 模拟a标签的点击事件来下载文件
            link.click();
            // 从DOM中删除a标签
            document.body.removeChild(link);
            // 释放blob对象URL
            URL.revokeObjectURL(url);
        }
    }
});

    </script>
</body>
</html>