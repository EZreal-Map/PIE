<!-- 添加Label -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta http-equiv="origin-trial"
        content="AguxL8gUQtVnjaKBJ+cg8sDcaMQ2PEqJuTSmja7AA8Gv7b3Oo4Kpru2YsC7Owk3P5YXviYGFHcarBWIn8dqMdAEAAAB9eyJvcmlnaW4iOiJodHRwczovL2Nsb3VkdGVzdC5waWVzYXQuY246NDQzIiwiZmVhdHVyZSI6IlVucmVzdHJpY3RlZFNoYXJlZEFycmF5QnVmZmVyIiwiZXhwaXJ5IjoxNjU4ODc5OTk5LCJpc1N1YmRvbWFpbiI6dHJ1ZX0=" />
    <title>labelBox</title>
    <link rel="stylesheet" href="earth.css" />
    <style>
        html,
        body {
            margin: 0;
            width: 100%;
            height: 100%;
        }

        #globe {
            width: 100%;
            height: 100vh;
            overflow: hidden;
            position: relative;
        }

        #earthContainer {
            width: 100%;
            height: 100%;
        }

        #btn {
            position: absolute;
            top: 20px;
            left: 5px;
        }

        #btn-del {
            position: absolute;
            top: 20px;
            left: 80px;
        }
    </style>
</head>

<body>
    <div id="globe">
        <canvas id="earthContainer" oncontextmenu="return false"></canvas>
        <div id="btn">
            <button onclick="handleSwitch()">显隐</button>
            <button onclick="changePosition()">修改位置</button>
        </div>
    </div>
</body>
<script type="text/javascript" src="PIEWrapperWeb.js"></script>
<script type="text/javascript" src="Earth.js"></script>
<script>
    var entity13;
    createEarthModule().then(function (module) {
        const viewer = new Earth.Viewer('earthContainer', {
            center: [101.0, 41.0], //初始中心点
            zoom: 5, //初始层级
        });
        // const entity = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(121.2219, 23.5161, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box0,
        //         scale: 1,
        //         style: {
        //             text: '测试位置',
        //         },
        //     },
        // });
        const entityCollection = viewer.entities;
        // entityCollection.add(entity);

        // const entity1 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(119, 40, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),
        //         outlineColor: undefined, //不支持
        //         outlineWidth: undefined, //不支持
        //         distanceDisplayCondition: undefined, //暂不支持
        //     },
        //     labelBox: {
        //         type: Earth.LabelBoxType.box1,
        //         scale: 0.5,
        //         style: {
        //             theme: 'red', //支持四种格式 'red','blue','yellow' 'green'
        //             title: '大厦',
        //             items1: [
        //                 {
        //                     label: '车位数',
        //                     num: 2499,
        //                     unit: '位',
        //                 },
        //                 {
        //                     label: '当前空余',
        //                     num: 126,
        //                     unit: '位',
        //                 },
        //             ],
        //             items2: [
        //                 {
        //                     label: '车库状态',
        //                     status1: '1号',
        //                     status2: '2号',
        //                 },
        //                 {
        //                     label: '车库入口',
        //                     status1: '1号',
        //                     status2: '2号',
        //                 },
        //             ],
        //         },
        //     },
        // });
        // entityCollection.add(entity1);

        // const entity2 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(100, 40, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box2,
        //         scale: 1.0,
        //         offset: { x: -35, y: -35 },
        //         style: {
        //             text: '测试位置',
        //             fontSize: 14,
        //             fontFamily: 'PingFang-SC-Medium',
        //             color: '#FFFFFF',
        //             // backgroundColor: "rgba(30,111,255,.1)",
        //             backgroundColor: 'red',
        //             boderColor: '#ff0000f0',

        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),
        //     },
        // });
        // entityCollection.add(entity2);

        // const entity3 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(110, 40, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box3,
        //         scale: 0.8,
        //         offset: { x: -3, y: -6 },
        //         style: {
        //             text: '测试位置',
        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),
        //     },
        // });
        // entityCollection.add(entity3);

        // const entity4 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(100, 50, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box4,
        //         scale: 0.8,
        //         offset: { x: -9, y: -6 },
        //         style: {
        //             text: '蓝色文本标牌',
        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),
        //     },
        // });
        // entityCollection.add(entity4);

        // const entity5 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(90, 30, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box5,
        //         scale: 0.2,
        //         offset: { x: -9, y: -13 },
        //         style: {
        //             url: '../../images/tf.gif',

        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1)
        //     },

        // });
        // entityCollection.add(entity5);

        // const entity5_1 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(90, 50, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box5,
        //         scale: 0.5,
        //         offset: { x: -18, y: -30 },
        //         style: {
        //             url: '../../images/symbol2.png',
        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),
        //         outlineColor: undefined, //不支持
        //         outlineWidth: undefined, //不支持
        //         distanceDisplayCondition: undefined, //暂不支持
        //     },
        // });
        // // entityCollection.add(entity5_1);

        // const entity5_2 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(104, 30, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box5,
        //         scale: 1.0,
        //         offset: { x: -16, y: -28 },
        //         style: {
        //             url: '../../images/paizhang.png',
        //             text: '标牌',
        //             textColor: 'red',
        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),
        //         outlineColor: undefined, //不支持
        //         outlineWidth: undefined, //不支持
        //         distanceDisplayCondition: undefined, //暂不支持
        //     },
        // });
        // entityCollection.add(entity5_2);

        // const entity6 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(90, 40, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box6,
        //         scale: 0.8,
        //         offset: { x: 2, y: -2 },
        //         style: {
        //             text: '这是box6',
        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),

        //     },
        // });
        // entityCollection.add(entity6);

        // const entity7 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(120, 30, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box7,
        //         scale: 0.8,
        //         offset: { x: 0, y: -5 },
        //         style: {
        //             url: '../../images/camera.svg',
        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),

        //     },
        // });
        // entityCollection.add(entity7);

        // const entity8 = new Earth.Entity({
        //     name: 'label',
        //     position: Earth.Cartesian3.fromDegrees(70, 50, 0), //Cartesian3类型，用于指定框的经度，维度和高度
        //     show: true,
        //     labelBox: {
        //         type: Earth.LabelBoxType.box8,
        //         scale: 0.8,
        //         style: {
        //             text: '我是竖立文本',
        //         },
        //     },
        //     point: {
        //         // show: true,
        //         pixelSize: 16,
        //         color: Earth.Color.BLUE.withAlpha(1),
        //         outlineColor: undefined, //不支持
        //         outlineWidth: undefined, //不支持
        //         distanceDisplayCondition: undefined, //暂不支持
        //     },
        // });
        // entityCollection.add(entity8);

        const entity9 = new Earth.Entity({
            name: 'label',
            position: Earth.Cartesian3.fromDegrees(60, 50, 0), //Cartesian3类型，用于指定框的经度，维度和高度
            show: true,
            labelBox: {
                type: Earth.LabelBoxType.box9,
                scale: 0.8,
                offset: { x: 0, y: -2 },
                style: {
                    color: 'red',
                },
            },
            point: {
                // show: true,
                pixelSize: 16,
                color: Earth.Color.BLUE.withAlpha(1),

            },
        });
        entityCollection.add(entity9);

        entity13 = new Earth.Entity({
            name: 'label',
            position: Earth.Cartesian3.fromDegrees(100, 30, 0), //Cartesian3类型，用于指定框的经度，维度和高度
            show: true,
            labelBox: {
                type: Earth.LabelBoxType.box10,
                scale: 0.8,
                offset: { x: -35, y: -50 },
                maxHeight: 20000000,
                style: {
                    html: '自定义文本',
                    color: 'black',
                    backgroundColor: 'white'
                },
            },
            point: {
                // show: true,
                pixelSize: 16,
                color: Earth.Color.BLUE.withAlpha(1),
            },
        });
        entityCollection.add(entity13);
    });
    // function handleSwitch() {
    //     if (entity13) {
    //         entity13.labelBox.show = !entity13.labelBox.show;
    //     }
    // }

    // function changePosition() {
    //     if (entity13) {
    //         entity13.position = Earth.Cartesian3.fromDegrees(80, 20);
    //     }
    // }
</script>

</html>